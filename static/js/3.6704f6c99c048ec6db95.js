webpackJsonp([3],{"9mnt":function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=a("7t+N"),n=a.n(e),s=new(a("Xgv0").a),l={name:"liquidity",data:function(){return{minAddLiquidity:"",margin:"--",address:"",basesymbol:"--",balance:"--",symbol:"--",unlock:!1,my_liquidity:"--",liquidity_margin:"",liquidity_volume:"",total_liquidity:"--",PerLiquidityShare:"--",connectbtn:!0,maxRemovableShares:"",id:0}},watch:{margin:{handler:function(t,i){}}},mounted:function(){this.id=this.$route.params.id,this.connectwallet()},methods:{reset:function(){this.getWalletBalance(),this.getSpecification(),this.getLiquidityInfo(),this.getLiquidityInfo(),this.liquidity_margin="",this.liquidity_volume=""},getSpecification:function(){var t=this;s.getSpecification().then(function(i){t.symbol=i.bSymbol})},getLiquidityInfo:function(){var t=this;s.getLiquidityInfo().then(function(i){var a=+i.poolLiquidity,e=+i.shares;t.PerLiquidityShare=i.shareValue,t.my_liquidity=e.toFixed(2),t.total_liquidity=a.toFixed(2),t.maxRemovableShares=i.maxRemovableShares})},connectwallet:function(){var t=this,i=+this.id;s.connectWallet().then(function(a){a.success?s.initialize(i).then(function(){t.connectbtn=!1;var i=s.account;i=i.slice(0,6)+"***"+i.slice(i.length-4,i.length),t.address=i,t.isUnlock(),t.getWalletBalance(),t.getSpecification(),t.getLiquidityInfo(),t.getLiquidityInfo()}):alert(a.error)}).catch(function(t){alert("Cannot connect wallet")})},getWalletBalance:function(){var t=this;s.getWalletBalance().then(function(i){var a=+i;t.balance=a.toFixed(2)}).catch(function(t){})},removeLiquidity:function(){var t=this,i=n()("#removeLiquidityButton"),a=this.liquidity_volume,e=+this.maxRemovableShares;this.address?+a>e?alert("The input liquidity cannot exceed  "+e):+a<=0||isNaN(a)?alert("Invalid Liquidity!"):(this.disableButton(i),s.removeLiquidity(a).then(function(a){t.enableButton(i),t.reset()})):alert("Please Connect MetaMask wallet first!")},addLiquidity:function(){var t=this,i=n()("#addLiquidityButton");this.address?s.getSpecification().then(function(a){t.minAddLiquidity=a.minAddLiquidity;var e=t.liquidity_margin;+e<+t.minAddLiquidity?alert("The input liquidity shall not be less than "+t.minAddLiquidity):+e<=0||isNaN(e)?alert("Please enter the correct format!"):(t.disableButton(i),s.addLiquidity(e).then(function(a){t.enableButton(i),t.reset()}))}):alert("Please Connect MetaMask wallet first!")},disableButton:function(t){t.find("span.spinner").show(),t.attr("disabled",!0)},enableButton:function(t){t.find("span.spinner").hide(),t.attr("disabled",!1)},authorization:function(){var t=this,i=n()("#Unlock");this.disableButton(i),s.unlock().then(function(a){t.enableButton(i),t.isUnlock()}).catch(function(t){})},isUnlock:function(){var t=this;s.isUnlocked().then(function(i){t.unlock=!!i}).catch(function(t){})}}},o={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{attrs:{id:"liquidity"}},[a("nav",{staticClass:"navbar sticky-top navbar-expand-md navbar-dark sidebar-bg bb1 navbar-offcanvas",staticStyle:{height:"80px"}},[a("div",{staticClass:"container-fluid"},[t._m(0),t._v(" "),a("div",[t.connectbtn?a("button",{staticClass:"connect br10-rem",attrs:{type:"button",id:"connect-wallet"},on:{click:t.connectwallet}},[t._v("\n          Connect wallet\n        ")]):t._e(),t._v(" "),a("span",{staticClass:"id"},[t._v(" "+t._s(t.address))])])])]),t._v(" "),a("div",{staticClass:"container-fluid",staticStyle:{width:"95.8% !important"}},[a("div",{staticClass:"row justify-content-center",staticStyle:{background:"#19202b","margin-top":"29px","margin-left":"0","margin-right":"0",height:"840px"}},[a("div",{staticClass:"mt-2 fcw",attrs:{role:"tabpanel",id:"liquidity"}},[a("div",{staticClass:"left"},[a("div",{staticClass:"text-mute"},[t._v("\n            Wallet Balance:\n            "),a("span",{staticClass:"text-mute",attrs:{id:"my-balance"}},[t._v(t._s(t.balance))]),t._v(" "),a("span",{staticClass:"text-mute symbol"},[t._v(t._s(t.symbol))])]),t._v(" "),a("div",{staticClass:"input-group mb-3 mt-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.liquidity_margin,expression:"liquidity_margin"}],staticClass:"form-control",staticStyle:{color:"black"},attrs:{type:"text",placeholder:"liquidity margin","aria-label":"liquidity-margin","aria-describedby":"liquidity-margin",id:"liquidity-margin"},domProps:{value:t.liquidity_margin},on:{input:function(i){i.target.composing||(t.liquidity_margin=i.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text symbol"},[t._v(t._s(t.symbol))])]),t._v(" "),a("div",{staticClass:"w-100  mt-4 mb-2"},[[t.unlock?a("button",{staticClass:"add",attrs:{type:"button",id:"addLiquidityButton"},on:{click:t.addLiquidity}},[a("span",{staticClass:"spinner spinner-border spinner-border-sm",staticStyle:{display:"none"},attrs:{role:"status","aria-hidden":"true"}}),t._v("\n                  ADD LIQUIDITY\n                ")]):a("button",{staticClass:"add",attrs:{type:"button",id:"Unlock"},on:{click:t.authorization}},[a("span",{staticClass:"spinner spinner-border spinner-border-sm",staticStyle:{display:"none"},attrs:{role:"status","aria-hidden":"true"}}),t._v("\n                  UNlOCK\n                ")])]],2)]),t._v(" "),a("div",{staticClass:"text-mute",staticStyle:{"margin-top":"margin-top: 68px"}},[t._v("\n            My Liquidity Shares in Pool:\n            "),a("span",{staticClass:"text-mute my-liquidity"},[t._v(t._s(t.my_liquidity))])]),t._v(" "),a("div",{staticClass:"input-group mb-4 mt-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.liquidity_volume,expression:"liquidity_volume"}],staticClass:"form-control",staticStyle:{color:"black"},attrs:{type:"text",placeholder:"liquidity volume","aria-label":"liquidity-volume","aria-describedby":"liquidity-volume",id:"liquidity-volume"},domProps:{value:t.liquidity_volume},on:{input:function(i){i.target.composing||(t.liquidity_volume=i.target.value)}}}),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"w-100  mt-4 mb-2"},[a("button",{staticClass:"remove",attrs:{type:"button",id:"removeLiquidityButton"},on:{click:t.removeLiquidity}},[a("span",{staticClass:"spinner spinner-border spinner-border-sm",staticStyle:{display:"none"},attrs:{role:"status","aria-hidden":"true"}}),t._v("\n                REMOVE LIQUIDITY\n              ")])])])]),t._v(" "),a("div",{staticClass:"right"},[a("div",{staticClass:"car"},[a("p",{staticClass:"card-text"},[a("span",{staticClass:"key text-muted"},[t._v("Pool Total Liquidity")]),t._v(" "),a("span",{staticClass:"text-mute float-right symbol",staticStyle:{"margin-left":"5px"}},[t._v(t._s(t.symbol))]),t._v(" "),a("span",{staticClass:"value float-right text-mute",attrs:{id:"total-liquidity"}},[t._v(t._s(t.total_liquidity))])]),t._v(" "),a("p",{staticClass:"card-text"},[a("span",{staticClass:"key text-muted"},[t._v("My Liquidity Shares")]),t._v(" "),a("span",{staticClass:"value float-right text-mute my-liquidity"},[t._v(t._s(t.my_liquidity))])]),t._v(" "),a("p",{staticClass:"card-text"},[a("span",{staticClass:"key text-muted"},[t._v(" Liquidity Share Value")]),t._v(" "),a("span",{staticClass:"text-mute float-right symbol",staticStyle:{"margin-left":"5px"}},[t._v(t._s(t.symbol))]),t._v(" "),a("span",{staticClass:"value float-right text-mute"},[t._v(t._s(t.PerLiquidityShare))])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("a",{attrs:{href:"https://deri.finance/"}},[i("img",{staticStyle:{width:"6.9rem",height:"2rem"},attrs:{src:a("xAza")}})])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"input-group-append"},[i("span",{staticClass:"input-group-text",attrs:{id:""}},[this._v("LiquidityShares")])])}]};var r=a("VU/8")(l,o,!1,function(t){a("qd92"),a("tadZ")},"data-v-280d3eda",null);i.default=r.exports},qd92:function(t,i){},tadZ:function(t,i){}});