webpackJsonp([8],{GEbF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7t+N"),i=a.n(n),s=a("unRb");var o={name:"oracle",data:function(){return{data:[],arr:[],date:(new Date).getSeconds()}},mounted:function(){var t=this,e=setInterval(function(){t.exchanges()},1e3);this.$once("hook:beforeDestroy",function(){clearInterval(e)}),this.oneday()},methods:{onehours:function(){var t=i()(".btn"),e=parseInt((new Date).getTime()/1e3-3600)-this.date,a=parseInt((new Date).getTime()/1e3)-this.date;t.eq(0).addClass("check").siblings().removeClass("check"),this.axios(e,a,"hours")},axios:function(t,e,a){var n=this;this.$axios.get("https://oracle.deri.finance/pricehistory/",{params:{starttime:t,endtime:e}}).then(function(t){var e=t.data.data;switch(e.map(function(t){t[0]=+(t[0]+"000")}),n.data=e,a){case"day":n.pricedayLine();break;case"hours":n.pricehoursLine();break;case"month":n.priceMonthLine()}})},oneday:function(){i()(".btn").eq(1).addClass("check").siblings().removeClass("check");var t=parseInt((new Date).getTime()/1e3-86400)-this.date,e=parseInt((new Date).getTime()/1e3)-this.date;this.axios(t,e,"day")},towday:function(){i()(".btn").eq(2).addClass("check").siblings().removeClass("check");var t=parseInt((new Date).getTime()/1e3-172800)-this.date,e=parseInt((new Date).getTime()/1e3)-this.date;console.log(t,e),this.axios(t,e,"day")},onemonth:function(){i()(".btn").eq(3).addClass("check").siblings().removeClass("check");var t=parseInt((new Date).getTime()/1e3-2592e3)-this.date,e=parseInt((new Date).getTime()/1e3)-this.date;console.log(t,e),this.axios(t,e,"month")},oneyear:function(){i()(".btn").eq(4).addClass("check").siblings().removeClass("check");var t=parseInt((new Date).getTime()/1e3-31104e3)-this.date,e=parseInt((new Date).getTime()/1e3)-this.date;console.log(t,e),this.axios(t,e,"month")},all:function(){i()(".btn").eq(5).addClass("check").siblings().removeClass("check");var t=parseInt((new Date).getTime()/1e3-93312e3)-this.date,e=parseInt((new Date).getTime()/1e3)-this.date;console.log(t,e),this.axios(t,e,"month")},pricedayLine:function(){s.init(document.getElementById("mychart")).setOption({tooltip:{trigger:"axis"},xAxis:{type:"time",boundaryGap:!1,axisLabel:{formatter:function(t,e){return[new Date(t).getHours(),"00"].join(":")}}},yAxis:{type:"value",boundaryGap:[0,"100%"],scale:!0},dataZoom:[{type:"inside",start:0,end:100,zoomOnMouseWheel:!1},{start:0,end:10,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{name:"BTS-USD",type:"line",symbol:"none",sampling:"average",itemStyle:{color:"rgb(9,247,247)"},data:this.data}]})},pricehoursLine:function(){s.init(document.getElementById("mychart")).setOption({tooltip:{trigger:"axis"},xAxis:{type:"time",boundaryGap:!1,axisLabel:{formatter:function(t,e){var a=new Date(t);return[a.getHours(),a.getMinutes()].join(":")}}},yAxis:{type:"value",boundaryGap:[0,"100%"],scale:!0},dataZoom:[{type:"inside",start:0,end:100,zoomOnMouseWheel:!1},{start:0,end:10,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{name:"BTS-USD",type:"line",symbol:"none",sampling:"average",itemStyle:{color:"rgb(9,247,247)"},data:this.data}]})},priceMonthLine:function(){s.init(document.getElementById("mychart")).setOption({tooltip:{trigger:"axis"},xAxis:{type:"time",boundaryGap:!1,axisLabel:{formatter:function(t,e){var a=new Date(t);return[a.getMonth()+1,a.getDate()].join("-")}}},yAxis:{type:"value",boundaryGap:[0,"100%"],scale:!0},dataZoom:[{type:"inside",start:0,end:100,zoomOnMouseWheel:!1},{start:0,end:10,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{name:"BTS-USD",type:"line",symbol:"none",sampling:"average",itemStyle:{color:"rgb(9,247,247)"},data:this.data}]})},exchanges:function(){var t=this;this.$axios.get("https://oracle.deri.finance/exchanges/").then(function(e){var a=e.data.data,n=[];a.map(function(t,e){var a,i,s,o,r;t.price=t.price.toFixed(2),t.lastRemovedTime?(t.lastPriceUpdateTimestamp="Excluded by admin",t.weight="0.00%"):(t.lastPriceUpdateTimestamp=parseInt(t.lastPriceUpdateTimestamp)+"000",t.lastPriceUpdateTimestamp=(a=t.lastPriceUpdateTimestamp,i=new Date(+a),s=i.getUTCHours(),o=i.getUTCMinutes(),(r=i.getUTCSeconds())<10&&(r="0"+r),s<10&&(s="0"+s),o<10&&(o="0"+o),s+" : "+o+" : "+r)),"0.00%"!=t.weight&&n.push(e)});var i=a.length/n.length/a.length;a.map(function(t){t.lastRemovedTime||(t.weight=100*i+"%")}),t.arr=a})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"oracle"}},[a("div",{staticClass:"chart"},[a("div",{staticClass:"pull-left"},[t._m(0),t._v(" "),a("div",{staticClass:"button_left"},[a("span",[t._v("Zoom:")]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.onehours}},[t._v("1h")]),t._v(" "),a("button",{staticClass:"btn check",on:{click:t.oneday}},[t._v("1d")]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.towday}},[t._v("2d")]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.onemonth}},[t._v("1m")]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.oneyear}},[t._v("1y")]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.all}},[t._v("all")])])]),t._v(" "),a("div",{staticStyle:{height:"400px"},attrs:{id:"mychart"}}),t._v(" "),a("div",{staticClass:"titprice"},[t._v("Price (USD)")])]),t._v(" "),a("div",{staticClass:"echange"},[a("div",{staticClass:"title"},[t._v("Exchanges")]),t._v(" "),a("div",{staticClass:"data"},[a("table",{staticClass:"table table-hover table-condensed table-nopadding table-ralign",attrs:{"float-thead":"floatTheadOptions","ng-model":"exch_rate_b"}},[t._m(1),t._v(" "),a("tbody",t._l(t.arr,function(e){return a("tr",{key:e.index},[a("td",[t._v(t._s(e.exchange_name))]),t._v(" "),a("td",{attrs:{id:"exch_rank_binance"}},[t._v(t._s(e.price))]),t._v(" "),a("td",{attrs:{id:"lup_rank_binance"}},[t._v(t._s(e.lastPriceUpdateTimestamp))]),t._v(" "),a("td",{attrs:{id:"wgt_rank_binance"}},[t._v(t._s(e.weight))])])}),0)]),t._v(" "),t._m(2)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text_left"},[this._v("\n        Deribit "),e("span",{attrs:{"data-i18n":"app.price_index"}},[this._v("BTC-USD Index")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{"data-i18n":"app.exchanges"}},[this._v("Exchanges")]),this._v(" "),e("th",{attrs:{"data-i18n":"app.avg_bidask"}},[this._v("Average of Bid/Ask")]),this._v(" "),e("th",{attrs:{"data-i18n":"app.last_upd_utc"}},[this._v("Last update (UTC)")]),this._v(" "),e("th",{attrs:{"data-i18n":"app.weight"}},[this._v("Weight")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tooltip_alt",staticStyle:{width:"50%",margin:"0","padding-top":"0","padding-bottom":"0","font-size":"12px"},attrs:{id:"indexInfo","data-original-title":"",title:""}},[e("span",{attrs:{"data-i18n":"txt.price_index_algorithm_description"}},[this._v("From the 11 exchanges, we exclude all disconnected,\n          administratively turned off and having detected invalid data. Then,\n          the values from remaining sources are sort, truncated to the 0.5%\n          margin around the median price and averaged with equal weight.")])])}]};var c=a("VU/8")(o,r,!1,function(t){a("a2wN")},"data-v-56f53f48",null);e.default=c.exports},a2wN:function(t,e){}});